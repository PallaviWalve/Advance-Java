package it.eduction.dao;

import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.Statement;
import java.util.ArrayList;
import java.util.Collection;

import example.utils.JdbcUtils;
import it.eduction.entity.Course;

//import education.jdbc.utils.JdbcUtils;
//import it.education.entity.Course;

public class CourseWebDao {

	public CourseWebDao() {
		Collection<Course> allCourse = new ArrayList<>();
		String sqlQuery = 
				"select course_name, course_provider, course_id, course_duration, course_fees from Course_Master";
		try(
				Connection dbConnection = JdbcUtils.buildConnection();
				Statement stmt = dbConnection.createStatement();
				ResultSet rs = stmt.executeQuery(sqlQuery)
				){
			while(rs.next()) {
				String course_name = rs.getString(1);
				String course_provider = rs.getString(2);
				int course_id = rs.getInt(3);
				int duration = rs.getInt(4);
				int fees = rs.getInt(5);
				//Populating an object of Customer class based 
				//upon: ID, name and address
				Course currentCourse = 
						new Course(course_id,course_name,course_provider,duration,fees);
				//Adding this object into customer's collection
				allCourse.add(currentCourse);
			}
		}
		catch(Exception ex) {
			ex.printStackTrace();
		}
		return;
	}

	}

}
